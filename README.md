# verilog2pwl
Command-line tool to convert VCD (Value-Change Dump) to PWL (Piece-Wise Linear) waveform

verilog2pwl 是一个将Verilog DUT Testbench生成的Value Change Dump (VCD) 波形文件转换为Spice 激励的命令行脚本工具。

## 功能特点 / Features
- 将Verilog仿真生成的VCD波形文件转换为Spice电路仿真可用的PWL激励文件
- 支持命令行操作，便于集成到自动化流程中
- 提供多种参数选项，满足不同的转换需求
- Supports conversion from VCD waveform files generated by Verilog simulation to PWL stimulus files usable in Spice circuit simulation
- Command-line operation, easy to integrate into automated processes
- Various parameter options to meet different conversion requirements

## 安装方法 / Installation
克隆仓库并进入项目目录：
Clone the repository and enter the project directory:

```bash
cd verilog2pwl

uv init

uv venv

uv .venv/bin/activate

uv sync
```

项目依赖Python 3.8或更高版本。依赖详见 requirements.txt
This project requires Python 3.8 or higher. Dependencies are listed in requirements.txt.

## 使用方法 / Usage
### 基本用法 / Basic Usage
可以通过Makefile来使用工具：
You can use the tool through the Makefile:

```bash
# 设置Verilog文件路径（默认为top.v）
# Set the Verilog file path (default is top.v)
make VERILOG_FILE=your_verilog_file.v

# 清理生成的文件
# Clean generated files
make clean

# 调试模式
# Debug mode
make debug
```

也可以直接运行命令行工具：
You can also run the command-line tool directly:

```bash
./vcd2pwl -i your_verilog_file.v -o output.pwl
```

### 命令行参数 / Command-line Parameters
工具支持以下参数：
The tool supports the following parameters:

- `-i, --input`: 指定输入的Verilog文件路径
  Specify the path of the input Verilog file
- `-o, --output`: 指定输出的PWL文件路径
  Specify the path of the output PWL file
- `--debug`: 启用调试模式，输出详细信息
  Enable debug mode, output detailed information

## 项目结构 / Project Structure
```
├── .gitignore          # Git忽略文件配置
├── LICENSE             # 项目许可证文件
├── Makefile            # 构建脚本
├── README.md           # 项目说明文档
├── dataflow/           # 数据流处理相关代码
│   ├── __init__.py     # Python包初始化文件
│   ├── helper.py       # 辅助函数
│   ├── parser.py       # 解析器模块
│   ├── types.py        # 类型定义
│   └── vcd/            # VCD文件处理模块
├── vcd2pwl.py          # VCD到PWL转换主程序
├── verilog2pwl.py      # 主程序入口
└── verilog2pwl.sh      # Shell脚本封装
```

## 工作原理 / Working Principle
工具首先通过Verilog仿真生成VCD波形文件，然后解析VCD文件中的信号变化信息，最后将这些信息转换为Spice仿真可用的PWL格式激励文件。
The tool first generates a VCD waveform file through Verilog simulation, then parses the signal change information in the VCD file, and finally converts this information into a PWL format stimulus file usable in Spice simulation.

## 许可证 / License
本项目使用GNU通用公共许可证(GPL)。详情请参阅[LICENSE](LICENSE)文件。
This project is licensed under the GNU General Public License (GPL). See the [LICENSE](LICENSE) file for details.

## 致谢 / Acknowledgements
感谢所有为项目做出贡献的开发者。
Thanks to all developers who have contributed to the project.

## 联系方式 / Contact
如有问题或建议，请联系项目维护者。
For questions or suggestions, please contact the project maintainers.